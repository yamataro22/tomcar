<div class="flex-shrink-0 p-3 mb-5" id="side-nav" style="width: 280px;">
    <a href=<%= katalog_path %> class="d-flex align-items-center pb-3 mb-3 link-dark text-decoration-none border-bottom">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="me-3 bi bi-card-list"
            viewBox="0 0 16 16">
            <path
                d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z" />
            <path
                d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z" />
        </svg>
        <span class="fs-5 fw-bold">
            Katalog produkt√≥w
        </span>

    </a>
    <ul class="list-unstyled ps-0">
        <% @categories.each do |category| %>
            <li class="mb-1">
                <button id="category-button" class="btn btn-toggle align-items-center rounded fw-bold" data-bs-toggle="collapse"
                    data-bs-target="#home-collapse-<%= category.id %>" aria-expanded="true"
                    onclick="rotateSvgFunction(this)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="rotate bi bi-chevron-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z" />
                    </svg>
                    <%= category.name %>
                </button>
                <div class="collapse" id="home-collapse-<%= category.id %>">
                    <ul class="btn-toggle-nav list-unstyled fw-normal ms-4 py-2 medium">
                        <% category.subcategories.each do |subcategory| %>
                            <li id="subcategory-item" class="py-2">
                                <%= link_to subcategory.name, 
                                            subcategory_path(subcategory), 
                                            class:"link-dark rounded text-decoration-none text-capitalize" 
                                %>
                            </li>
                        <% end %>
                    </ul>
                </div>
            </li>
        <% end %>


        <li class="border-top my-3"></li>

        <li class="mb-1">
            <button style="font-weight: bold;" class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                data-bs-target="#account-collapse" aria-expanded="false">
                <%= link_to "Kontakt", '#', class: "text-decoration-none link-dark rounded" %>
            </button>
        </li>
    </ul>
</div>
<script>
    function rotateSvgFunction(button) {
        button.querySelector(".rotate").classList.toggle("down")
    }
</script>